import com.fairisaac.mb.scripting.data.BinningMissingValueMap 

/** 
 * Generated by com.fairisaac.mb.scripting.codegen.ScriptGenerator 
 * on Sat Jan 19 23:45:57 PST 2013 
 */

String srcURI = '../data/atom135_v2s2_0916.sas7bdat' 
String sinkURI = '../data/dev_nn_r_f_setid.mbd'

// Import data 
Dataset ds = app.task.importData(
    in: srcURI,
    out: sinkURI,
   // filter: app.filter.recs(10),
    overwrite: true
) {
    layout (
        varDelimiter: ',',
        characterSet: 'US-ASCII',
        partialLayout: true
    ) {
        var(name:'ato_bad', description:'ato_bad', type:'numeric', role:'target')
        var(name:'trans_id', description:'payment_transid', type:'numeric', role:'recordID')
        var(name:'atom13_seg', description:'segment', type:'numeric', role:'uninformative')
        var(name:'setid', description:'weight', type:'numeric', role:'uninformative')
        var(name:'unit_wgt', description:'weight', type:'numeric', role:'uninformative')
        var(name:'dollar_wgt', description:'weight', type:'numeric', role:'uninformative')      
}
}.dataset 



// Add default roles
ds.getVariableInfos().each() {
    if (it.getVariableRoles().size() == 0) 
        it.getVariableRoles().add('predictor')
}


// Categorize variables
app.data.categorize(ds, "ato_bad")

// Print dataset info and sample to console 
app.data.dump(in:ds, contents:true, vars:'ato_bad payment_transid ') 


